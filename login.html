<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ImageBIT AI - Login</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
body {
    background: #F8F9FA;
    font-family: 'Inter', sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
}
.login-container {
    background: #FFFFFF;
    padding: 50px;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.08);
    width: 100%;
    max-width: 380px;
    text-align: center;
}
.login-container h1 {
    font-size: 22px;
    font-weight: 700;
    color: #212121;
    margin-bottom: 30px;
}
.login-container input {
    width: 100%;
    padding: 12px 15px;
    margin-bottom: 20px;
    border: 1px solid #E0E0E0;
    border-radius: 8px;
    font-size: 16px;
    outline: none;
    transition: border 0.2s, box-shadow 0.2s;
}
.login-container input:focus {
    border-color: #B0B0B0;
    box-shadow: 0 0 6px rgba(0,0,0,0.05);
}
.login-btn {
    width: 100%;
    padding: 12px;
    background: #000000;
    color: #FFFFFF;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: 500;
    cursor: pointer;
    margin-bottom: 15px;
    transition: background 0.2s, box-shadow 0.2s;
}
.login-btn:hover {
    background: #222222;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
}
.google-btn {
    width: 100%;
    padding: 12px;
    background: #F1F3F4;
    color: #202124;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: 500;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    margin-bottom: 15px;
    transition: background 0.2s;
}
.google-btn:hover {
    background: #E0E2E3;
}
.google-btn svg {
    width: 20px;
    height: 20px;
}
.create-account {
    font-size: 14px;
    color: #6C757D;
    cursor: pointer;
    display: block;
    margin-top: 10px;
    text-decoration: none;
}
.create-account:hover {
    text-decoration: underline;
}
.warning {
    font-size: 13px;
    color: #6C757D;
    margin-top: 8px;
}
</style>
</head>
<body>

<div class="login-container">
    <h1>Welcome Back</h1>
    <input type="email" id="email" placeholder="Email">
    <input type="password" id="password" placeholder="Password">
    <button class="login-btn" onclick="loginWithEmail()">Login</button>
    <button class="google-btn" onclick="loginWithGoogle()">
        <!-- Inline Google SVG Logo -->
        <svg viewBox="0 0 533.5 544.3">
            <path fill="#4285F4" d="M533.5 278.4c0-17.7-1.5-34.7-4.3-51.2H272v96.8h146.9c-6.4 34.8-25.7 64.4-54.9 84.2v69h88.8c51.9-47.8 81.7-118.5 81.7-198.8z"/>
            <path fill="#34A853" d="M272 544.3c73.7 0 135.5-24.4 180.6-66.3l-88.8-69c-24.7 16.6-56.3 26.5-91.8 26.5-70.6 0-130.4-47.7-151.8-111.7H30.5v70.3C75.6 482.2 168.7 544.3 272 544.3z"/>
            <path fill="#FBBC05" d="M120.2 321.8c-4.8-14.3-7.5-29.6-7.5-45.2s2.7-31 7.5-45.2V161H30.5C11.2 200.1 0 242.5 0 278.4s11.2 78.3 30.5 117.4l89.7-73.9z"/>
            <path fill="#EA4335" d="M272 108.1c39.7 0 75.3 13.6 103.4 40.3l77.6-77.6C407.5 23.1 345.7 0 272 0 168.7 0 75.6 62.1 30.5 161l89.7 70.3c21.4-64 81.2-111.7 151.8-111.7z"/>
        </svg>
        Sign in with Google
    </button>
    <a class="create-account" href="signup.html">Create Account</a>
    <div class="warning" id="verification-warning"></div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-app.js";
import { getAuth, signInWithEmailAndPassword, GoogleAuthProvider, signInWithPopup, sendEmailVerification } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-auth.js";

const firebaseConfig = {
    apiKey: "AIzaSyDr6R3e_oGeLb02blsH2l9cDJZZBwVegOk",
    authDomain: "imagebit-8fe75.firebaseapp.com",
    projectId: "imagebit-8fe75",
    storageBucket: "imagebit-8fe75.appspot.com",
    messagingSenderId: "326104098599",
    appId: "1:326104098599:web:f2d3447a6211f2104e6b02"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const provider = new GoogleAuthProvider();

window.loginWithEmail = function() {
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;
    if(!email || !password) return alert("Enter email and password");

    signInWithEmailAndPassword(auth, email, password)
        .then(userCredential => {
            const user = userCredential.user;
            if(!user.emailVerified){
                sendEmailVerification(user).then(() => {
                    document.getElementById("verification-warning").innerText = "Verification link sent! ⚠️ Check SPAM folder too.";
                });
            } else {
                window.location.href = "dashboard.html";
            }
        })
        .catch(error => alert(error.message));
}

window.loginWithGoogle = function() {
    signInWithPopup(auth, provider)
        .then(result => {
            window.location.href = "dashboard.html";
        })
        .catch(error => alert(error.message));
}
</script>

</body>
</html>
